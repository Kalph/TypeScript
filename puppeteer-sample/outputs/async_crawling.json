{"lastCommitMessage":"chore: mark version v3.1.0 (#5883)","readme":"<h1><a id=\"user-content-puppeteer\" class=\"anchor\" aria-hidden=\"true\" href=\"#puppeteer\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Puppeteer</h1>\n\n<p><a href=\"https://travis-ci.com/puppeteer/puppeteer\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/b3cc40146cc029235f86c3037d9895c23a10747a/68747470733a2f2f696d672e736869656c64732e696f2f7472617669732f636f6d2f7075707065746565722f7075707065746565722f6d61737465722e737667\" alt=\"Build status\" data-canonical-src=\"https://img.shields.io/travis/com/puppeteer/puppeteer/master.svg\" style=\"max-width:100%;\"></a> <a href=\"https://npmjs.org/package/puppeteer\" rel=\"nofollow\"><img src=\"https://camo.githubusercontent.com/3841cbbe13528e2c04774ebd9129cfc71098befb/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f7075707065746565722e737667\" alt=\"npm puppeteer package\" data-canonical-src=\"https://img.shields.io/npm/v/puppeteer.svg\" style=\"max-width:100%;\"></a> <a href=\"https://github.com/puppeteer/puppeteer/issues\"><img src=\"https://camo.githubusercontent.com/4870c8e22457091db8344084bb0801341b54f9ab/68747470733a2f2f697369746d61696e7461696e65642e636f6d2f62616467652f7265736f6c7574696f6e2f7075707065746565722f7075707065746565722e737667\" alt=\"Issue resolution status\" data-canonical-src=\"https://isitmaintained.com/badge/resolution/puppeteer/puppeteer.svg\" style=\"max-width:100%;\"></a></p>\n\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/10379601/29446482-04f7036a-841f-11e7-9872-91d1fc2ea683.png\"><img src=\"https://user-images.githubusercontent.com/10379601/29446482-04f7036a-841f-11e7-9872-91d1fc2ea683.png\" height=\"200\" align=\"right\" style=\"max-width:100%;\"></a></p>\n<h6><a id=\"user-content-api--faq--contributing--troubleshooting\" class=\"anchor\" aria-hidden=\"true\" href=\"#api--faq--contributing--troubleshooting\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md\">API</a> | <a href=\"#faq\">FAQ</a> | <a href=\"https://github.com/puppeteer/puppeteer/blob/master/CONTRIBUTING.md\">Contributing</a> | <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/troubleshooting.md\">Troubleshooting</a></h6>\n<blockquote>\n<p>Puppeteer is a Node library which provides a high-level API to control Chrome or Chromium over the <a href=\"https://chromedevtools.github.io/devtools-protocol/\" rel=\"nofollow\">DevTools Protocol</a>. Puppeteer runs <a href=\"https://developers.google.com/web/updates/2017/04/headless-chrome\" rel=\"nofollow\">headless</a> by default, but can be configured to run full (non-headless) Chrome or Chromium.</p>\n</blockquote>\n\n<h6><a id=\"user-content-what-can-i-do\" class=\"anchor\" aria-hidden=\"true\" href=\"#what-can-i-do\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>What can I do?</h6>\n<p>Most things that you can do manually in the browser can be done using Puppeteer! Here are a few examples to get you started:</p>\n<ul>\n<li>Generate screenshots and PDFs of pages.</li>\n<li>Crawl a SPA (Single-Page Application) and generate pre-rendered content (i.e. \"SSR\" (Server-Side Rendering)).</li>\n<li>Automate form submission, UI testing, keyboard input, etc.</li>\n<li>Create an up-to-date, automated testing environment. Run your tests directly in the latest version of Chrome using the latest JavaScript and browser features.</li>\n<li>Capture a <a href=\"https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/reference\" rel=\"nofollow\">timeline trace</a> of your site to help diagnose performance issues.</li>\n<li>Test Chrome Extensions.</li>\n</ul>\n\n<p>Give it a spin: <a href=\"https://try-puppeteer.appspot.com/\" rel=\"nofollow\">https://try-puppeteer.appspot.com/</a></p>\n\n<h2><a id=\"user-content-getting-started\" class=\"anchor\" aria-hidden=\"true\" href=\"#getting-started\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started</h2>\n<h3><a id=\"user-content-installation\" class=\"anchor\" aria-hidden=\"true\" href=\"#installation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Installation</h3>\n<p>To use Puppeteer in your project, run:</p>\n<div class=\"highlight highlight-source-shell\"><pre>npm i puppeteer\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> or \"yarn add puppeteer\"</span></pre></div>\n<p>Note: When you install Puppeteer, it downloads a recent version of Chromium (~170MB Mac, ~282MB Linux, ~280MB Win) that is guaranteed to work with the API. To skip the download, or to download a different browser, see <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#environment-variables\">Environment variables</a>.</p>\n<h3><a id=\"user-content-puppeteer-core\" class=\"anchor\" aria-hidden=\"true\" href=\"#puppeteer-core\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>puppeteer-core</h3>\n<p>Since version 1.7.0 we publish the <a href=\"https://www.npmjs.com/package/puppeteer-core\" rel=\"nofollow\"><code>puppeteer-core</code></a> package,\na version of Puppeteer that doesn't download any browser by default.</p>\n<div class=\"highlight highlight-source-shell\"><pre>npm i puppeteer-core\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> or \"yarn add puppeteer-core\"</span></pre></div>\n<p><code>puppeteer-core</code> is intended to be a lightweight version of Puppeteer for launching an existing browser installation or for connecting to a remote one. Be sure that the version of puppeteer-core you install is compatible with the\nbrowser you intend to connect to.</p>\n<p>See <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/api.md#puppeteer-vs-puppeteer-core\">puppeteer vs puppeteer-core</a>.</p>\n<h3><a id=\"user-content-usage\" class=\"anchor\" aria-hidden=\"true\" href=\"#usage\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Usage</h3>\n<p>Puppeteer follows the latest <a href=\"https://github.com/nodejs/Release#release-schedule\">maintenance LTS</a> version of Node.</p>\n<p>Note: Prior to v1.18.1, Puppeteer required at least Node v6.4.0. Versions from v1.18.1 to v2.1.0 rely on\nNode 8.9.0+. Starting from v3.0.0 Puppeteer starts to rely on Node 10.18.1+. All examples below use async/await which is only supported in Node v7.6.0 or greater.</p>\n<p>Puppeteer will be familiar to people using other browser testing frameworks. You create an instance\nof <code>Browser</code>, open pages, and then manipulate them with <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#\">Puppeteer's API</a>.</p>\n<p><strong>Example</strong> - navigating to <a href=\"https://example.com\" rel=\"nofollow\">https://example.com</a> and saving a screenshot as <em>example.png</em>:</p>\n<p>Save file as <strong>example.js</strong></p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">puppeteer</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'puppeteer'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-kos\">(</span><span class=\"pl-k\">async</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">page</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">browser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">newPage</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">goto</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'https://example.com'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">screenshot</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">path</span>: <span class=\"pl-s\">'example.png'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">browser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">close</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p>Execute script on the command line</p>\n<div class=\"highlight highlight-source-shell\"><pre>node example.js</pre></div>\n<p>Puppeteer sets an initial page size to 800×600px, which defines the screenshot size. The page size can be customized  with <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#pagesetviewportviewport\"><code>Page.setViewport()</code></a>.</p>\n<p><strong>Example</strong> - create a PDF.</p>\n<p>Save file as <strong>hn.js</strong></p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">puppeteer</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'puppeteer'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-kos\">(</span><span class=\"pl-k\">async</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">page</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">browser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">newPage</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">goto</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'https://news.ycombinator.com'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span><span class=\"pl-c1\">waitUntil</span>: <span class=\"pl-s\">'networkidle2'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">pdf</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">path</span>: <span class=\"pl-s\">'hn.pdf'</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">format</span>: <span class=\"pl-s\">'A4'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">browser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">close</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p>Execute script on the command line</p>\n<div class=\"highlight highlight-source-shell\"><pre>node hn.js</pre></div>\n<p>See <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#pagepdfoptions\"><code>Page.pdf()</code></a> for more information about creating pdfs.</p>\n<p><strong>Example</strong> - evaluate script in the context of the page</p>\n<p>Save file as <strong>get-dimensions.js</strong></p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">puppeteer</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'puppeteer'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-kos\">(</span><span class=\"pl-k\">async</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">page</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">browser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">newPage</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">goto</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'https://example.com'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-c\">// Get the \"viewport\" of the page, as reported by the page.</span>\n  <span class=\"pl-k\">const</span> <span class=\"pl-s1\">dimensions</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">evaluate</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>\n      <span class=\"pl-c1\">width</span>: <span class=\"pl-smi\">document</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">documentElement</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">clientWidth</span><span class=\"pl-kos\">,</span>\n      <span class=\"pl-c1\">height</span>: <span class=\"pl-smi\">document</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">documentElement</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">clientHeight</span><span class=\"pl-kos\">,</span>\n      <span class=\"pl-c1\">deviceScaleFactor</span>: <span class=\"pl-smi\">window</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">devicePixelRatio</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'Dimensions:'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">dimensions</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n  <span class=\"pl-k\">await</span> <span class=\"pl-s1\">browser</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">close</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p>Execute script on the command line</p>\n<div class=\"highlight highlight-source-shell\"><pre>node get-dimensions.js</pre></div>\n<p>See <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#pageevaluatepagefunction-args\"><code>Page.evaluate()</code></a> for more information on <code>evaluate</code> and related methods like <code>evaluateOnNewDocument</code> and <code>exposeFunction</code>.</p>\n\n\n<h2><a id=\"user-content-default-runtime-settings\" class=\"anchor\" aria-hidden=\"true\" href=\"#default-runtime-settings\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Default runtime settings</h2>\n<p><strong>1. Uses Headless mode</strong></p>\n<p>Puppeteer launches Chromium in <a href=\"https://developers.google.com/web/updates/2017/04/headless-chrome\" rel=\"nofollow\">headless mode</a>. To launch a full version of Chromium, set the <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#puppeteerlaunchoptions\"><code>headless</code> option</a> when launching a browser:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">headless</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// default is true</span></pre></div>\n<p><strong>2. Runs a bundled version of Chromium</strong></p>\n<p>By default, Puppeteer downloads and uses a specific version of Chromium so its API\nis guaranteed to work out of the box. To use Puppeteer with a different version of Chrome or Chromium,\npass in the executable's path when creating a <code>Browser</code> instance:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">executablePath</span>: <span class=\"pl-s\">'/path/to/Chrome'</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p>You can also use Puppeteer with Firefox Nightly (experimental support). See <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#puppeteerlaunchoptions\"><code>Puppeteer.launch()</code></a> for more information.</p>\n<p>See <a href=\"https://www.howtogeek.com/202825/what%E2%80%99s-the-difference-between-chromium-and-chrome/\" rel=\"nofollow\"><code>this article</code></a> for a description of the differences between Chromium and Chrome. <a href=\"https://chromium.googlesource.com/chromium/src/+/master/docs/chromium_browser_vs_google_chrome.md\" rel=\"nofollow\"><code>This article</code></a> describes some differences for Linux users.</p>\n<p><strong>3. Creates a fresh user profile</strong></p>\n<p>Puppeteer creates its own browser user profile which it <strong>cleans up on every run</strong>.</p>\n\n<h2><a id=\"user-content-resources\" class=\"anchor\" aria-hidden=\"true\" href=\"#resources\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resources</h2>\n<ul>\n<li><a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md\">API Documentation</a></li>\n<li><a href=\"https://github.com/puppeteer/puppeteer/tree/master/examples/\">Examples</a></li>\n<li><a href=\"https://github.com/transitive-bullshit/awesome-puppeteer\">Community list of Puppeteer resources</a></li>\n</ul>\n\n<h2><a id=\"user-content-debugging-tips\" class=\"anchor\" aria-hidden=\"true\" href=\"#debugging-tips\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debugging tips</h2>\n<ol>\n<li>\n<p>Turn off headless mode - sometimes it's useful to see what the browser is\ndisplaying. Instead of launching in headless mode, launch a full version of\nthe browser using  <code>headless: false</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">headless</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p>Slow it down - the <code>slowMo</code> option slows down Puppeteer operations by the\nspecified amount of milliseconds. It's another way to help see what's going on.</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span>\n  <span class=\"pl-c1\">headless</span>: <span class=\"pl-c1\">false</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">slowMo</span>: <span class=\"pl-c1\">250</span> <span class=\"pl-c\">// slow down by 250ms</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p>Capture console output - You can listen for the <code>console</code> event.\nThis is also handy when debugging code in <code>page.evaluate()</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">on</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'console'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">msg</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'PAGE LOG:'</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">msg</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">text</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">evaluate</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">`url is <span class=\"pl-s1\"><span class=\"pl-kos\">${</span><span class=\"pl-s1\">location</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">href</span><span class=\"pl-kos\">}</span></span>`</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p>Use debugger in application code browser</p>\n<p>There are two execution context: node.js that is running test code, and the browser\nrunning application code being tested. This lets you debug code in the\napplication code browser; ie code inside <code>evaluate()</code>.</p>\n<ul>\n<li>\n<p>Use <code>{devtools: true}</code> when launching Puppeteer:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">browser</span> <span class=\"pl-c1\">=</span> <span class=\"pl-k\">await</span> <span class=\"pl-s1\">puppeteer</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">launch</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-c1\">devtools</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p>Change default test timeout:</p>\n<p>jest: <code>jest.setTimeout(100000);</code></p>\n<p>jasmine: <code>jasmine.DEFAULT_TIMEOUT_INTERVAL = 100000;</code></p>\n<p>mocha: <code>this.timeout(100000);</code> (don't forget to change test to use <a href=\"https://stackoverflow.com/a/23492442\" rel=\"nofollow\">function and not '=&gt;'</a>)</p>\n</li>\n<li>\n<p>Add an evaluate statement with <code>debugger</code> inside / add  <code>debugger</code> to an existing evaluate statement:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">evaluate</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-k\">debugger</span><span class=\"pl-kos\">;</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p>The test will now stop executing in the above evaluate statement, and chromium will stop in debug mode.</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Use debugger in node.js</p>\n<p>This will let you debug test code. For example, you can step over <code>await page.click()</code> in the node.js script and see the click happen in the application code browser.</p>\n<p>Note that you won't be able to run <code>await page.click()</code> in\nDevTools console due to this <a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=833928\" rel=\"nofollow\">Chromium bug</a>. So if\nyou want to try something out, you have to add it to your test file.</p>\n<ul>\n<li>\n<p>Add <code>debugger;</code> to your test, eg:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">debugger</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">click</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'a[target=_blank]'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>\n<p>Set <code>headless</code> to <code>false</code></p>\n</li>\n<li>\n<p>Run <code>node --inspect-brk</code>, eg <code>node --inspect-brk node_modules/.bin/jest tests</code></p>\n</li>\n<li>\n<p>In Chrome open <code>chrome://inspect/#devices</code> and click <code>inspect</code></p>\n</li>\n<li>\n<p>In the newly opened test browser, type <code>F8</code> to resume test execution</p>\n</li>\n<li>\n<p>Now your <code>debugger</code> will be hit and you can debug in the test browser</p>\n</li>\n</ul>\n</li>\n<li>\n<p>Enable verbose logging - internal DevTools protocol traffic\nwill be logged via the <a href=\"https://github.com/visionmedia/debug\"><code>debug</code></a> module under the <code>puppeteer</code> namespace.</p>\n<pre><code> # Basic verbose logging\n env DEBUG=\"puppeteer:*\" node script.js\n\n # Protocol traffic can be rather noisy. This example filters out all Network domain messages\n env DEBUG=\"puppeteer:*\" env DEBUG_COLORS=true node script.js 2&gt;&amp;1 | grep -v '\"Network'\n</code></pre>\n</li>\n<li>\n<p>Debug your Puppeteer (node) code easily, using <a href=\"https://github.com/GoogleChromeLabs/ndb\">ndb</a></p>\n</li>\n</ol>\n<ul>\n<li>\n<p><code>npm install -g ndb</code> (or even better, use <a href=\"https://github.com/zkat/npx\">npx</a>!)</p>\n</li>\n<li>\n<p>add a <code>debugger</code> to your Puppeteer (node) code</p>\n</li>\n<li>\n<p>add <code>ndb</code> (or <code>npx ndb</code>) before your test command. For example:</p>\n<p><code>ndb jest</code> or <code>ndb mocha</code> (or <code>npx ndb jest</code> / <code>npx ndb mocha</code>)</p>\n</li>\n<li>\n<p>debug your test inside chromium like a boss!</p>\n</li>\n</ul>\n\n<h2><a id=\"user-content-contributing-to-puppeteer\" class=\"anchor\" aria-hidden=\"true\" href=\"#contributing-to-puppeteer\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Contributing to Puppeteer</h2>\n<p>Check out <a href=\"https://github.com/puppeteer/puppeteer/blob/master/CONTRIBUTING.md\">contributing guide</a> to get an overview of Puppeteer development.</p>\n\n<h1><a id=\"user-content-faq\" class=\"anchor\" aria-hidden=\"true\" href=\"#faq\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>FAQ</h1>\n<h4><a id=\"user-content-q-who-maintains-puppeteer\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-who-maintains-puppeteer\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: Who maintains Puppeteer?</h4>\n<p>The Chrome DevTools team maintains the library, but we'd love your help and expertise on the project!\nSee <a href=\"https://github.com/puppeteer/puppeteer/blob/master/CONTRIBUTING.md\">Contributing</a>.</p>\n<h4><a id=\"user-content-q-what-is-the-status-of-cross-browser-support\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-what-is-the-status-of-cross-browser-support\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: What is the status of cross-browser support?</h4>\n<p>Official Firefox support is currently experimental. The ongoing collaboration with Mozilla aims to support common end-to-end testing use cases, for which developers expect cross-browser coverage. The Puppeteer team needs input from users to stabilize Firefox support and to bring missing APIs to our attention.</p>\n<p>From Puppeteer v2.1.0 onwards you can specify <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#puppeteerlaunchoptions\"><code>puppeteer.launch({product: 'firefox'})</code></a> to run your Puppeteer scripts in Firefox Nightly, without any additional custom patches. While <a href=\"https://www.npmjs.com/package/puppeteer-firefox\" rel=\"nofollow\">an older experiment</a> required a patched version of Firefox, <a href=\"https://wiki.mozilla.org/Remote\" rel=\"nofollow\">the current approach</a> works with “stock” Firefox.</p>\n<p>We will continue to collaborate with other browser vendors to bring Puppeteer support to browsers such as Safari.\nThis effort includes exploration of a standard for executing cross-browser commands (instead of relying on the non-standard DevTools Protocol used by Chrome).</p>\n<h4><a id=\"user-content-q-what-are-puppeteers-goals-and-principles\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-what-are-puppeteers-goals-and-principles\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: What are Puppeteer’s goals and principles?</h4>\n<p>The goals of the project are:</p>\n<ul>\n<li>Provide a slim, canonical library that highlights the capabilities of the <a href=\"https://chromedevtools.github.io/devtools-protocol/\" rel=\"nofollow\">DevTools Protocol</a>.</li>\n<li>Provide a reference implementation for similar testing libraries. Eventually, these other frameworks could adopt Puppeteer as their foundational layer.</li>\n<li>Grow the adoption of headless/automated browser testing.</li>\n<li>Help dogfood new DevTools Protocol features...and catch bugs!</li>\n<li>Learn more about the pain points of automated browser testing and help fill those gaps.</li>\n</ul>\n<p>We adapt <a href=\"https://www.chromium.org/developers/core-principles\" rel=\"nofollow\">Chromium principles</a> to help us drive product decisions:</p>\n<ul>\n<li><strong>Speed</strong>: Puppeteer has almost zero performance overhead over an automated page.</li>\n<li><strong>Security</strong>: Puppeteer operates off-process with respect to Chromium, making it safe to automate potentially malicious pages.</li>\n<li><strong>Stability</strong>: Puppeteer should not be flaky and should not leak memory.</li>\n<li><strong>Simplicity</strong>: Puppeteer provides a high-level API that’s easy to use, understand, and debug.</li>\n</ul>\n<h4><a id=\"user-content-q-is-puppeteer-replacing-seleniumwebdriver\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-is-puppeteer-replacing-seleniumwebdriver\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: Is Puppeteer replacing Selenium/WebDriver?</h4>\n<p><strong>No</strong>. Both projects are valuable for very different reasons:</p>\n<ul>\n<li>Selenium/WebDriver focuses on cross-browser automation; its value proposition is a single standard API that works across all major browsers.</li>\n<li>Puppeteer focuses on Chromium; its value proposition is richer functionality and higher reliability.</li>\n</ul>\n<p>That said, you <strong>can</strong> use Puppeteer to run tests against Chromium, e.g. using the community-driven <a href=\"https://github.com/smooth-code/jest-puppeteer\">jest-puppeteer</a>. While this probably shouldn’t be your only testing solution, it does have a few good points compared to WebDriver:</p>\n<ul>\n<li>Puppeteer requires zero setup and comes bundled with the Chromium version it works best with, making it <a href=\"https://github.com/puppeteer/puppeteer/#getting-started\">very easy to start with</a>. At the end of the day, it’s better to have a few tests running chromium-only, than no tests at all.</li>\n<li>Puppeteer has event-driven architecture, which removes a lot of potential flakiness. There’s no need for evil “sleep(1000)” calls in puppeteer scripts.</li>\n<li>Puppeteer runs headless by default, which makes it fast to run. Puppeteer v1.5.0 also exposes browser contexts, making it possible to efficiently parallelize test execution.</li>\n<li>Puppeteer shines when it comes to debugging: flip the “headless” bit to false, add “slowMo”, and you’ll see what the browser is doing. You can even open Chrome DevTools to inspect the test environment.</li>\n</ul>\n<h4><a id=\"user-content-q-why-doesnt-puppeteer-vxxx-work-with-chromium-vyyy\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-why-doesnt-puppeteer-vxxx-work-with-chromium-vyyy\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: Why doesn’t Puppeteer v.XXX work with Chromium v.YYY?</h4>\n<p>We see Puppeteer as an <strong>indivisible entity</strong> with Chromium. Each version of Puppeteer bundles a specific version of Chromium – <strong>the only</strong> version it is guaranteed to work with.</p>\n<p>This is not an artificial constraint: A lot of work on Puppeteer is actually taking place in the Chromium repository. Here’s a typical story:</p>\n<ul>\n<li>A Puppeteer bug is reported: <a href=\"https://github.com/puppeteer/puppeteer/issues/2709\">https://github.com/puppeteer/puppeteer/issues/2709</a></li>\n<li>It turned out this is an issue with the DevTools protocol, so we’re fixing it in Chromium: <a href=\"https://chromium-review.googlesource.com/c/chromium/src/+/1102154\" rel=\"nofollow\">https://chromium-review.googlesource.com/c/chromium/src/+/1102154</a></li>\n<li>Once the upstream fix is landed, we roll updated Chromium into Puppeteer: <a href=\"https://github.com/puppeteer/puppeteer/pull/2769\">https://github.com/puppeteer/puppeteer/pull/2769</a></li>\n</ul>\n<p>However, oftentimes it is desirable to use Puppeteer with the official Google Chrome rather than Chromium. For this to work, you should install a <code>puppeteer-core</code> version that corresponds to the Chrome version.</p>\n<p>For example, in order to drive Chrome 71 with puppeteer-core, use <code>chrome-71</code> npm tag:</p>\n<div class=\"highlight highlight-source-shell\"><pre>npm install puppeteer-core@chrome-71</pre></div>\n<h4><a id=\"user-content-q-which-chromium-version-does-puppeteer-use\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-which-chromium-version-does-puppeteer-use\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: Which Chromium version does Puppeteer use?</h4>\n<p>Look for <code>chromium_revision</code> in <a href=\"https://github.com/puppeteer/puppeteer/blob/master/package.json\">package.json</a>. To find the corresponding Chromium commit and version number, search for the revision prefixed by an <code>r</code> in <a href=\"https://omahaproxy.appspot.com/\" rel=\"nofollow\">OmahaProxy</a>'s \"Find Releases\" section.</p>\n<h4><a id=\"user-content-q-which-firefox-version-does-puppeteer-use\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-which-firefox-version-does-puppeteer-use\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: Which Firefox version does Puppeteer use?</h4>\n<p>Since Firefox support is experimental, Puppeteer downloads the latest <a href=\"https://wiki.mozilla.org/Nightly\" rel=\"nofollow\">Firefox Nightly</a> when the <code>PUPPETEER_PRODUCT</code> environment variable is set to <code>firefox</code>. That's also why the value of <code>firefox_revision</code> in <a href=\"https://github.com/puppeteer/puppeteer/blob/master/package.json\">package.json</a> is <code>latest</code> -- Puppeteer isn't tied to a particular Firefox version.</p>\n<p>To fetch Firefox Nightly as part of Puppeteer installation:</p>\n<div class=\"highlight highlight-source-shell\"><pre>PUPPETEER_PRODUCT=firefox npm i puppeteer\n<span class=\"pl-c\"><span class=\"pl-c\">#</span> or \"yarn add puppeteer\"</span></pre></div>\n<h4><a id=\"user-content-q-whats-considered-a-navigation\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-whats-considered-a-navigation\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: What’s considered a “Navigation”?</h4>\n<p>From Puppeteer’s standpoint, <strong>“navigation” is anything that changes a page’s URL</strong>.\nAside from regular navigation where the browser hits the network to fetch a new document from the web server, this includes <a href=\"https://www.w3.org/TR/html5/single-page.html#scroll-to-fragid\" rel=\"nofollow\">anchor navigations</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API\" rel=\"nofollow\">History API</a> usage.</p>\n<p>With this definition of “navigation,” <strong>Puppeteer works seamlessly with single-page applications.</strong></p>\n<h4><a id=\"user-content-q-whats-the-difference-between-a-trusted-and-untrusted-input-event\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-whats-the-difference-between-a-trusted-and-untrusted-input-event\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: What’s the difference between a “trusted\" and \"untrusted\" input event?</h4>\n<p>In browsers, input events could be divided into two big groups: trusted vs. untrusted.</p>\n<ul>\n<li><strong>Trusted events</strong>: events generated by users interacting with the page, e.g. using a mouse or keyboard.</li>\n<li><strong>Untrusted event</strong>: events generated by Web APIs, e.g. <code>document.createEvent</code> or <code>element.click()</code> methods.</li>\n</ul>\n<p>Websites can distinguish between these two groups:</p>\n<ul>\n<li>using an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/isTrusted\" rel=\"nofollow\"><code>Event.isTrusted</code></a> event flag</li>\n<li>sniffing for accompanying events. For example, every trusted <code>'click'</code> event is preceded by <code>'mousedown'</code> and <code>'mouseup'</code> events.</li>\n</ul>\n<p>For automation purposes it’s important to generate trusted events. <strong>All input events generated with Puppeteer are trusted and fire proper accompanying events.</strong> If, for some reason, one needs an untrusted event, it’s always possible to hop into a page context with <code>page.evaluate</code> and generate a fake event:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">await</span> <span class=\"pl-s1\">page</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">evaluate</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-smi\">document</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">querySelector</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'button[type=submit]'</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">click</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h4><a id=\"user-content-q-what-features-does-puppeteer-not-support\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-what-features-does-puppeteer-not-support\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: What features does Puppeteer not support?</h4>\n<p>You may find that Puppeteer does not behave as expected when controlling pages that incorporate audio and video. (For example, <a href=\"https://github.com/puppeteer/puppeteer/issues/291\">video playback/screenshots is likely to fail</a>.) There are two reasons for this:</p>\n<ul>\n<li>Puppeteer is bundled with Chromium — not Chrome — and so by default, it inherits all of <a href=\"https://www.chromium.org/audio-video\" rel=\"nofollow\">Chromium's media-related limitations</a>. This means that Puppeteer does not support licensed formats such as AAC or H.264. (However, it is possible to force Puppeteer to use a separately-installed version Chrome instead of Chromium via the <a href=\"https://github.com/puppeteer/puppeteer/blob/v3.1.0/docs/api.md#puppeteerlaunchoptions\"><code>executablePath</code> option to <code>puppeteer.launch</code></a>. You should only use this configuration if you need an official release of Chrome that supports these media formats.)</li>\n<li>Since Puppeteer (in all configurations) controls a desktop version of Chromium/Chrome, features that are only supported by the mobile version of Chrome are not supported. This means that Puppeteer <a href=\"https://caniuse.com/#feat=http-live-streaming\" rel=\"nofollow\">does not support HTTP Live Streaming (HLS)</a>.</li>\n</ul>\n<h4><a id=\"user-content-q-i-am-having-trouble-installing--running-puppeteer-in-my-test-environment-where-should-i-look-for-help\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-i-am-having-trouble-installing--running-puppeteer-in-my-test-environment-where-should-i-look-for-help\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: I am having trouble installing / running Puppeteer in my test environment. Where should I look for help?</h4>\n<p>We have a <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/troubleshooting.md\">troubleshooting</a> guide for various operating systems that lists the required dependencies.</p>\n<h4><a id=\"user-content-q-how-do-i-trytest-a-prerelease-version-of-puppeteer\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-how-do-i-trytest-a-prerelease-version-of-puppeteer\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: How do I try/test a prerelease version of Puppeteer?</h4>\n<p>You can check out this repo or install the latest prerelease from npm:</p>\n<div class=\"highlight highlight-source-shell\"><pre>npm i --save puppeteer@next</pre></div>\n<p>Please note that prerelease may be unstable and contain bugs.</p>\n<h4><a id=\"user-content-q-i-have-more-questions-where-do-i-ask\" class=\"anchor\" aria-hidden=\"true\" href=\"#q-i-have-more-questions-where-do-i-ask\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Q: I have more questions! Where do I ask?</h4>\n<p>There are many ways to get help on Puppeteer:</p>\n<ul>\n<li><a href=\"https://github.com/puppeteer/puppeteer/issues\">bugtracker</a></li>\n<li><a href=\"https://stackoverflow.com/questions/tagged/puppeteer\" rel=\"nofollow\">Stack Overflow</a></li>\n<li><a href=\"https://join.slack.com/t/puppeteer/shared_invite/enQtMzU4MjIyMDA5NTM4LWI0YTE0MjM0NWQzYmE2MTRmNjM1ZTBkN2MxNmJmNTIwNTJjMmFhOWFjMGExMDViYjk2YjU2ZmYzMmE1NmExYzc\" rel=\"nofollow\">slack channel</a></li>\n</ul>\n<p>Make sure to search these channels before posting your question.</p>\n\n"}